<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Payment – PARTEE</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.105/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    body{font-family:'Lora',serif;background:#f8f9fa}
    .header{background:#212529;color:#fff;text-align:center;padding:60px 0 30px}
    .header h1{font-family:'Poppins',sans-serif;font-size:50px;margin-bottom:10px}
    .price-box{background:#FFD700;color:#212529;border-radius:12px;padding:25px;font-size:1.4rem;font-weight:600}
    .wallet-btn{width:100%;margin-bottom:15px;font-weight:600;border-radius:25px}
    .btn-back{background:#6c757d;color:#fff;padding:10px 25px;border-radius:25px;text-decoration:none;display:inline-block;font-weight:600}
  </style>
</head>
<body>

<header class="header">
  <div class="container">
    <a href="seat-selection-vip.html" class="btn-back mb-3">← Back to Seats</a>
    <h1>Checkout</h1>
    <p class="mb-0">Review amount and pay with your favourite e-wallet</p>
  </div>
</header>

<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-6">

      <!-- Amount -->
      <div class="price-box text-center mb-4">
        <div class="mb-2">Total amount to pay</div>
        <div id="totalPrice" style="font-size:2.2rem">—</div>
        <div class="small mt-2">₱ 500 × <span id="guestCount">—</span> guest(s)</div>
      </div>

      <!-- E-Wallets -->
      <h5 class="mb-3">Choose e-wallet</h5>
      <button class="btn btn-success wallet-btn" onclick="pay('GCash')">
        <i class="bi bi-qr-code"></i> Pay with GCash
      </button>
      <button class="btn btn-primary wallet-btn" onclick="pay('Maya')">
        <i class="bi bi-credit-card"></i> Pay with Maya
      </button>
      <button class="btn btn-warning wallet-btn text-dark" onclick="pay('GrabPay')">
        <i class="bi bi-wallet2"></i> Pay with GrabPay
      </button>

      <!-- Finish -->
      <div class="d-grid mt-4">
        <button class="btn btn-dark btn-lg" onclick="finish()">Finish &amp; Get Ticket</button>
      </div>

    </div>
  </div>
</div>

<script>
/* ===== CONFIG ===== */
const PRICE_PER_GUEST = 500; // <-- change rate here

/* ===== READ GUESTS ===== */
const urlParams = new URLSearchParams(window.location.search);
const guests = parseInt(urlParams.get('guests')) || 1;
const total  = guests * PRICE_PER_GUEST;

document.getElementById('guestCount').textContent = guests;
document.getElementById('totalPrice').textContent = '₱ ' + total.toLocaleString();

/* ===== E-WALLET HANDLER ===== */
function pay(wallet){
  /* copy exact amount to clipboard */
  navigator.clipboard.writeText(total.toString()).then(()=>{
    alert(`Amount ₱ ${total} copied to clipboard.\nYou will now be redirected to ${wallet}.`);
  });
  /* open app / qr deep-link */
  const links = {
    GCash: 'gcash://payqr',
    Maya:  'maya://pay',
    GrabPay:'grabpay://pay'
  };
  window.open(links[wallet] || '#', '_blank');
}

/* ===== FINISH ===== */
function finish(){
  alert('Payment successful! Your VIP e-ticket has been sent to your email/phone.');
  /* wire to back-end here */
}
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>